!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=2)}([function(e,t){e.exports=PIXI},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ephemeris=t}return n(e,[{key:"getPosAtTime",value:function(t){var i=Math.PI,n=e.DEGREE_TO_RADIANS,r=Math.sin,o=Math.cos,a=this.ephemeris,s=a.epoch,u=a.e,l=a.a,c=a.i*n,h=a.W*n,d=(a.wbar||a.w+a.W)*n,f=a.M*n+(a.n?a.n*n:2*i/a.P)*(t-s),p=f,v=void 0;do{var y=f+u*r(p);v=Math.abs(y-p),p=y}while(v>1e-7);var b=p,w=2*Math.atan(Math.sqrt((1+u)/(1-u))*Math.tan(b/2)),g=l*(1-u*u)/(1+u*o(w))*e.PIXELS_PER_AU;return{x:g*(o(h)*o(w+d-h)+r(h)*r(w+d-h)*o(c)),y:g*(r(h)*o(w+d-h)-o(h)*r(w+d-h)*o(c))}}}]),e}();r.PIXELS_PER_AU=100,r.DEGREE_TO_RADIANS=Math.PI/180,t.default=r},function(e,t,i){"use strict";var n=o(i(3)),r=o(i(8));function o(e){return e&&e.__esModule?e:{default:e}}var a=new n.default({width:window.innerWidth,height:window.innerHeight});a.addPlanets(r.default),function(e,t){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e),i.onreadystatechange=function(){i.readyState>3&&200===i.status&&t(i.responseText)},i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send()}("data/mpcs.json",function(e){var t=JSON.parse(e);a.setAsteroids(t)}),window.addEventListener("resize",function(){a.resize(window.innerWidth,window.innerHeight)})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(0)),o=l(i(4)),a=l(i(5)),s=l(i(6)),u=l(i(7));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.width=t.width||800,this.height=t.height||800,this.startDate=t.startDate||new Date(1980,1),this.endDate=t.endDate||new Date,this.jedDelta=t.jedDelta||1.5,this.jed=this.toJED(this.startDate),this.planets=[],this.asteroidData=[],this.asteroids=[],this.createSystem(),this.setupGui(),this.controls=new o.default(this),this.tick()}return n(e,[{key:"setupGui",value:function(){this.gui={},this.gui.date=document.getElementById("orrery-date"),this.stats=new a.default,this.gui.fps=document.getElementById("orrery-fps"),this.gui.count=document.getElementById("orrery-count")}},{key:"updateGui",value:function(){var e=this.fromJED(this.jed).toISOString().slice(0,10);this.gui.date.textContent=e,this.gui.fps.textContent=this.stats.fps+" FPS",this.gui.count.textContent=this.asteroids.length}},{key:"createSystem",value:function(){this.renderer=new r.WebGLRenderer(this.width,this.height,{backgroundColor:0}),this.stage=new r.Container,this.stage.x=this.width/2,this.stage.y=this.height/2,this.addStar(),this.planetContainer=new r.particles.ParticleContainer(10),this.stage.addChild(this.planetContainer),this.particleContainer=new r.particles.ParticleContainer(999999,{scale:!0,tint:!0},16384,!0),this.stage.addChild(this.particleContainer),this.cirleTexture=this.createCirleTexture(),document.getElementById("orrery").appendChild(this.renderer.view)}},{key:"createCirleTexture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=new r.Graphics;return t.beginFill(16777215),t.drawCircle(0,0,e),t.endFill(),this.renderer.generateTexture(t)}},{key:"addStar",value:function(){var e=new r.Graphics;e.beginFill(16773804),e.drawCircle(0,0,5),e.endFill(),this.stage.addChild(e)}},{key:"addPlanets",value:function(e){var t=this;e.forEach(function(e){var i=new s.default(e.ephemeris,t.cirleTexture,{name:e.name,size:e.size,color:e.color});t.planets.push(i),t.planetContainer.addChild(i.body)})}},{key:"setAsteroids",value:function(e){this.asteroidData=e}},{key:"discoverAsteroids",value:function(e){var t=0,i=!0,n=!1,r=void 0;try{for(var o,a=this.asteroidData[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;if(s.disc>e)break;t++,this.addAsteroid(s)}}catch(e){n=!0,r=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}t>0&&this.asteroidData.splice(0,t)}},{key:"addAsteroid",value:function(e){var t=new u.default(e,this.cirleTexture);this.asteroids.push(t),this.particleContainer.addChild(t.body),this.asteroidCount++}},{key:"tick",value:function(){var e=this;this.stats.begin(),this.jed+=this.jedDelta,this.discoverAsteroids(this.jed),this.planets.forEach(function(t){return t.render(e.jed)}),this.asteroids.forEach(function(t){return t.render(e.jed)}),this.renderer.render(this.stage),this.updateGui(),this.stats.end(),requestAnimationFrame(this.tick.bind(this))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.renderer.resize(e,t),this.stage.x=e/2,this.stage.y=t/2}},{key:"toJED",value:function(e){return e/864e5+2440587.5}},{key:"fromJED",value:function(e){return new Date(864e5*(-2440587.5+e))}}]),e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.multiplier=i.multiplier||1.04,this.options=i,this.orrery=t,t.renderer.view.addEventListener("DOMMouseScroll",this.onScroll.bind(this),!1),t.renderer.view.addEventListener("mousewheel",this.onScroll.bind(this),!1)}return n(e,[{key:"onScroll",value:function(e){var t=e.wheelDelta||-e.detail,i=this.options.multiplier,n=t>0?i:1/i,r=this.orrery.stage.scale;r.set(r.x*n)}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.performance=performance||Date,this.fps=0,this.frames=0,this.beginTime=this.performance.now(),this.prevTime=this.beginTime}return n(e,[{key:"begin",value:function(){this.beginTime=this.performance.now()}},{key:"end",value:function(){this.frames++;var e=this.performance.now();return e>this.prevTime+1e3&&(this.fps=Math.round(1e3*this.frames/(e-this.prevTime)),this.prevTime=e,this.frames=0),e}},{key:"update",value:function(){this.beginTime=this.end()}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(0)),o=function(e){return e&&e.__esModule?e:{default:e}}(i(1));var a=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({},e.defaultOptions,n),this.orbit=new o.default(t);var a=new r.Sprite(i);a.width=a.height=this.options.size,a.anchor.x=a.anchor.y=.5,a.tint=this.options.color,this.body=a}return n(e,[{key:"render",value:function(e){var t=this.orbit.getPosAtTime(e),i=t.x,n=t.y;this.body.position.x=i,this.body.position.y=n}}]),e}();a.defaultOptions={size:4,color:16777215},t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(0)),o=function(e){return e&&e.__esModule?e:{default:e}}(i(1));var a=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({},e.defaultOptions,n),this.orbit=new o.default(t);var a=new r.Sprite(i);a.width=a.height=this.options.size,a.anchor.x=a.anchor.y=.5,a.tint=this.options.discoveryColor,this.originalScale=a.scale.x,a.scale.x=a.scale.y*=this.options.discoveryScale,this.body=a}return n(e,[{key:"render",value:function(e){this.renderPosition(e),this.body.scale.x=this.body.scale.y-=.01,this.body.scale.x<=this.originalScale&&(this.body.tint=this.options.color,this.body.scale.x=this.body.scale.y=this.originalScale,delete this.originalScale,this.render=this.renderPosition)}},{key:"renderPosition",value:function(e){var t=this.orbit.getPosAtTime(e),i=t.x,n=t.y;this.body.position.x=i,this.body.position.y=n}}]),e}();a.defaultOptions={size:1,color:11184810,discoveryColor:65280,discoveryScale:3},t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"Mercury",size:1.6,color:15519134,ephemeris:{epoch:2451545,a:.38709893,e:.20563069,i:7.00487,W:48.33167,w:29.124,wbar:77.45645,L:252.25084,M:174.79439,P:87.969}},{name:"Venus",size:1.8,color:15519134,ephemeris:{epoch:2451545,a:.72333199,e:.00677323,i:3.39471,W:76.68069,w:29.124,wbar:131.53298,L:181.97973,M:50.44675,P:224.701}},{name:"Earth",size:2.8,color:10010879,ephemeris:{epoch:2451545,a:1.00000011,e:.01671022,i:5e-5,W:-11.26064,w:114.20783,wbar:102.94719,L:100.46435,M:-2.47311027,P:365.256}},{name:"Mars",size:2.2,color:16759939,ephemeris:{epoch:2451545,a:1.52366231,e:.09341233,i:1.85061,W:49.57854,w:286.537,wbar:336.04084,L:355.45332,M:19.41248,P:686.98}},{name:"Jupiter",size:4,color:12960701,ephemeris:{epoch:2451545,a:5.20336301,e:.04839266,i:1.3053,W:100.55615,w:275.066,wbar:14.75385,L:34.40438,M:19.65053,P:4332.589}},{name:"Saturn",size:3.2,color:15519134,ephemeris:{epoch:2451545,a:9.53707032,e:.0541506,i:2.48446,W:113.71504,w:336.013862,wbar:92.43194,L:49.94432,M:42.48762,P:10759.22}}]}]);