!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=PIXI},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ephemeris=t}return r(e,[{key:"getPosAtTime",value:function(t){var n=Math.PI,r=e.DEGREE_TO_RADIANS,i=Math.sin,o=Math.cos,a=this.ephemeris,s=a.epoch,u=a.e,c=a.a,l=a.i*r,h=a.W*r,d=(a.wbar||a.w+a.W)*r,f=a.M*r+(a.n?a.n*r:2*n/a.P)*(t-s),p=f,v=void 0;do{var y=f+u*i(p);v=Math.abs(y-p),p=y}while(v>1e-7);var b=p,w=2*Math.atan(Math.sqrt((1+u)/(1-u))*Math.tan(b/2)),m=c*(1-u*u)/(1+u*o(w))*e.PIXELS_PER_AU;return{x:m*(o(h)*o(w+d-h)+i(h)*i(w+d-h)*o(l)),y:m*(i(h)*o(w+d-h)-o(h)*i(w+d-h)*o(l))}}}]),e}();i.PIXELS_PER_AU=100,i.DEGREE_TO_RADIANS=Math.PI/180,t.default=i},function(e,t,n){"use strict";var r=o(n(3)),i=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var a=new r.default({width:window.innerWidth,height:window.innerHeight});a.addPlanets(i.default),function(e,t){var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("GET",e),n.onreadystatechange=function(){n.readyState>3&&200===n.status&&t(n.responseText)},n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send()}("data/mpcs.json",function(e){var t=JSON.parse(e);a.setAsteroids(t)}),window.addEventListener("resize",function(){a.resize(window.innerWidth,window.innerHeight)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=c(n(4)),a=c(n(5)),s=c(n(6)),u=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=t||{},this.width=t.width||800,this.height=t.height||800,this.startDate=t.startDate||new Date(1980,1),this.endDate=t.endDate||new Date,this.jedDelta=t.jedDelta||1.5,this.jed=this.toJED(this.startDate),this.planets=[],this.undiscoveredAsteroids=[],this.asteroids=[],this.asteroidCount=0,this.createSystem(),this.createStar(),this.setupGui(),this.controls=new o.default(this),this.tick()}return r(e,[{key:"setupGui",value:function(){this.gui={},this.gui.date=document.getElementById("orrery-date"),this.stats=new a.default,this.gui.fps=document.getElementById("orrery-fps"),this.gui.count=document.getElementById("orrery-count")}},{key:"updateGui",value:function(){var e=this.fromJED(this.jed).toISOString().slice(0,10);this.gui.date.textContent=e,this.gui.fps.textContent=this.stats.fps+" FPS",this.gui.count.textContent=this.asteroidCount}},{key:"createSystem",value:function(){this.renderer=new i.WebGLRenderer(this.width,this.height,{backgroundColor:0}),this.stage=new i.Container,this.stage.x=this.width/2,this.stage.y=this.height/2,document.getElementById("orrery").appendChild(this.renderer.view)}},{key:"createStar",value:function(){var e=new i.Graphics;e.beginFill(16773804),e.drawCircle(0,0,5),e.endFill(),this.star=e,this.stage.addChild(this.star)}},{key:"addPlanets",value:function(e){var t=this;e.forEach(function(e){var n=new s.default(e.ephemeris,{name:e.name,size:e.size,color:e.color});t.planets.push(n),t.stage.addChild(n.body),n.render(t.jed)})}},{key:"setAsteroids",value:function(e){this.undiscoveredAsteroids=e}},{key:"discoverAsteroids",value:function(e){var t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.undiscoveredAsteroids[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.disc>e)break;t++,this.addAsteroid(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}t>0&&this.undiscoveredAsteroids.splice(0,t)}},{key:"addAsteroid",value:function(e){var t=new u.default(e);this.asteroids.push(t),this.stage.addChild(t.body),this.asteroidCount++,t.render(this.jed)}},{key:"tick",value:function(){var e=this;this.stats.begin(),this.jed+=this.jedDelta,this.discoverAsteroids(this.jed),this.planets.forEach(function(t){return t.render(e.jed)}),this.asteroids.forEach(function(t){return t.render(e.jed)}),this.renderer.render(this.stage),this.updateGui(),this.stats.end(),requestAnimationFrame(this.tick.bind(this))}},{key:"resize",value:function(e,t){this.renderer.resize(e,t),this.stage.x=e/2,this.stage.y=t/2}},{key:"toJED",value:function(e){return e/864e5+2440587.5}},{key:"fromJED",value:function(e){return new Date(864e5*(-2440587.5+e))}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(n=n||{}).multiplier=n.multiplier||1.04,this.options=n,this.orrery=t,t.renderer.view.addEventListener("DOMMouseScroll",this.onScroll.bind(this),!1),t.renderer.view.addEventListener("mousewheel",this.onScroll.bind(this),!1)}return r(e,[{key:"onScroll",value:function(e){var t=e.wheelDelta||-e.detail,n=this.options.multiplier,r=t>0?n:1/n,i=this.orrery.stage.scale;i.set(i.x*r)}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.performance=performance||Date,this.fps=0,this.frames=0,this.beginTime=this.performance.now(),this.prevTime=this.beginTime}return r(e,[{key:"begin",value:function(){this.beginTime=this.performance.now()}},{key:"end",value:function(){this.frames++;var e=this.performance.now();return e>this.prevTime+1e3&&(this.fps=Math.round(1e3*this.frames/(e-this.prevTime)),this.prevTime=e,this.frames=0),e}},{key:"update",value:function(){this.beginTime=this.end()}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=n.name,this.size=n.size||4,this.color=n.color||16777215,this.orbit=new o.default(t);var r=new i.Sprite(i.Texture.WHITE);r.tint=this.color,r.width=this.size,r.height=this.size,r.anchor.x=.5,r.anchor.y=.5,this.body=r}return r(e,[{key:"render",value:function(e){var t=this.orbit.getPosAtTime(e),n=t.x,r=t.y;this.body.position.x=n,this.body.position.y=r}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=n.size||1,this.color=n.color||16777215,this.orbit=new o.default(t);var r=new i.Sprite(i.Texture.WHITE);r.tint=this.color,r.width=this.size,r.height=this.size,r.anchor.x=.5,r.anchor.y=.5,this.body=r}return r(e,[{key:"render",value:function(e){var t=this.orbit.getPosAtTime(e),n=t.x,r=t.y;this.body.position.x=n,this.body.position.y=r}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"Mercury",size:1.6,color:15519134,ephemeris:{epoch:2451545,a:.38709893,e:.20563069,i:7.00487,W:48.33167,w:29.124,wbar:77.45645,L:252.25084,M:174.79439,P:87.969}},{name:"Venus",size:1.8,color:15519134,ephemeris:{epoch:2451545,a:.72333199,e:.00677323,i:3.39471,W:76.68069,w:29.124,wbar:131.53298,L:181.97973,M:50.44675,P:224.701}},{name:"Earth",size:2.8,color:10010879,ephemeris:{epoch:2451545,a:1.00000011,e:.01671022,i:5e-5,W:-11.26064,w:114.20783,wbar:102.94719,L:100.46435,M:-2.47311027,P:365.256}},{name:"Mars",size:2.2,color:16759939,ephemeris:{epoch:2451545,a:1.52366231,e:.09341233,i:1.85061,W:49.57854,w:286.537,wbar:336.04084,L:355.45332,M:19.41248,P:686.98}},{name:"Jupiter",size:4,color:12960701,ephemeris:{epoch:2451545,a:5.20336301,e:.04839266,i:1.3053,W:100.55615,w:275.066,wbar:14.75385,L:34.40438,M:19.65053,P:4332.589}},{name:"Saturn",size:3.2,color:15519134,ephemeris:{epoch:2451545,a:9.53707032,e:.0541506,i:2.48446,W:113.71504,w:336.013862,wbar:92.43194,L:49.94432,M:42.48762,P:10759.22}}]}]);